backup_blockchain_truenas.sh
Release Notes v1.0.0 (Gold)

Release Date: 2026-02-04
Status: Stable / Production-ready


SUMMARY

This is the first stable release of backup_blockchain_truenas.sh.

The script provides ZFS-first backup, restore and merge operations
for blockchain nodes running on TrueNAS.

This release focuses on correctness, safety, and headless operation.
No experimental features are included.


WHAT IS INCLUDED

- ZFS snapshot creation before backup operations
- Rsync-based file transport with explicit ZFS excludes (.zfs)
- Headless-safe execution suitable for cron
- Externalized configuration via layered .conf files
- Deterministic behavior with explicit error handling
- Mandatory logging with clear failure modes
- Safe-by-design restore workflow (FORCE + confirmation)
- Minimal but reliable operational state tracking


SUPPORTED SERVICES

- bitcoind
- monerod
- chia (node, farmer, plots)

Service handling is generic and extensible.


CONFIGURATION MODEL

Layered configuration loading:

1. config.conf (optional, disabled by default)
2. default.conf
3. machine.conf
4. host-specific config (e.g. hpms1.conf)
5. CLI overrides

Later layers override earlier ones.
Each config file may be enabled or disabled explicitly.


SAFETY AND DESIGN DECISIONS

- Snapshots are treated as the primary source of truth
- Rsync is used strictly as a transport mechanism
- .zfs paths are excluded explicitly to prevent corruption
- Restore operations are intentionally inconvenient
- Logging is mandatory and must not be removed
- The script assumes operator competence (admin tool)


KNOWN LIMITATIONS

- verify mode is reserved but not yet implemented
- No automated snapshot retention (external responsibility)
- No GUI or interactive setup wizard
- Requires root privileges


MIGRATION NOTES

This release replaces all previous alpha versions.

Older scripts should be archived and not mixed with v1.0.0.

Configuration files from alpha versions may require review.


CREDITS

Concept, requirements and real-world validation:
Mr. AtiX

Implementation and iterative hardening:
AI-assisted development


LICENSE

Open source.
No warranty.
Use at your own risk.

