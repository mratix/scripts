# --- hpms1.conf ---
# Konfigurationsdatei für backup_blockchain_truenas.sh
# Format: KEY=value
# wird mit load_config "$cfgfile" geladen
# CLI-Argumente haben Vorrang (werden auch nach dem Laden einer Konfiguration priorisiert)

########################################
# Host-Identität
########################################
THIS_HOST="hpms1"
ROLE="validator"        # full-node | backup-node | validator | worker | storage | monitoring | testing | default
FS_TYPE="zfs"           # zfs | btrfs | ext4

########################################
# Globale Definitionen (Daten nicht ändern!)
########################################
ROLES="full-node backup-node validator worker storage monitoring testing"
POOLS="ssd hdd raid tank"
DATASETS="blockchain backups data"
SERVICES="bitcoind monerod electrs mempool"

########################################
# Host -> Service Mapping
# Format: host:service1,service2
########################################
HOST_SERVICE_MAP="
hpms1:bitcoind,monerod
hpms3:bitcoind,electrs,mempool
deop9020m:bitcoind,electrs,mempool
"
DEFAULT_SERVICE="bitcoind"

########################################
# Betriebsmodus / Flags
########################################
MODE="backup"       # backup | restore | verify | merge
DEBUG=false
DRY_RUN=false
FORCE=false
RESTORE=false

########################################
# Blockchain / Service Kontext
########################################
BLOCKCHAIN="btc"
SERVICE="bitcoind"
HEIGHT=0

# Container / Share (optional)
CT_NAME="ix-bitcoind-bitcoind-1"
NA_SHARE="blockchain"

########################################
# Pfad-Basen (keine Expansion hier!)
########################################
# Rolle bestimmt Standardpfade
SRC_BASE="/mnt/ssd/blockchain"
DEST_BASE="/mnt/tank/backups/blockchain"

########################################
# Optional feste Maschinen-Backups
########################################
# host bestimmt Standardpfade (pools)
DEST_MACHINE_BASE="/mnt/tank/backups/machines/hpms1"

########################################
# USB / externe Medien
########################################
USE_USB=false
USB_DEV="/dev/sdf1"

########################################
# Logging
########################################
SCLOG=true
SCLOGFILE="$HOME/backup_blockchain_truenas.log"

