# --- machine.conf ---
# Konfigurationsdatei für backup_blockchain_truenas.sh
# Format: KEY=value, variable=${variable:-defaultvalue}
# wird mit load_config "$cfgfile" geladen
# CLI-Argumente haben Vorrang (werden auch nach dem Laden einer Konfiguration priorisiert)

enabled=true

########################################
# Host-Identität
########################################
THIS_HOST=""
ROLE=""        # full-node | backup-node | validator | worker | storage | monitoring | testing | default
FS_TYPE=""           # zfs | btrfs | ext4

########################################
# Betriebsmodus / Flags
########################################
MODE="backup"       # backup | restore | verify | merge
DEBUG=false
DRY_RUN=false
FORCE=false
RESTORE=false       # dangerous!

########################################
# Blockchain / Service Kontext
########################################
BLOCKCHAIN="btc"
SERVICE="bitcoind"
HEIGHT=0

# Container / Share (optional)
CT_NAME="ix-bitcoind-bitcoind-1"
NA_SHARE="blockchain"

########################################
# Pfad-Basen (keine Expansion hier!)
########################################
# Rolle bestimmt Standardpfade
SRC_BASE="/mnt/ssd/blockchain"
DEST_BASE="/mnt/tank/backups/blockchain"

########################################
# Optional feste Maschinen-Backups
########################################
# host bestimmt Standardpfade (pools)
DEST_MACHINE_BASE=""
#DEST_MACHINE_BASE="/mnt/tank/backups/machines/hpms1"

########################################
# USB / externe Medien
########################################
USE_USB=false
USB_DEV="/dev/sdf1"

########################################
# Logging
########################################
LOGFILE="/var/log/blockchain_backup.log"

