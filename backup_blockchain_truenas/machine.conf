# --- machine.conf ---
# Machine-level configuration für backup_blockchain_truenas.sh
# In *.conf *NIE* RSYNC_OPTS setzen. Überschreibt Array -> crash

enabled=true

MODE=backup
DRY_RUN=false

POOL="tank"
DATASET="blockchain"

SERVICE="bitcoind"  # bitcoind|monerod|chia

SRC_BASE="/mnt/${POOL}/${DATASET}"
DEST_BASE="/mnt/tank/backups/${DATASET}"
SRCDIR="${SRC_BASE}"
DESTDIR="${DEST_BASE}"

# Optional Maschinen-Ziel
DEST_MACHINE_BASE="/mnt/tank/backups/machines/hpms1"

# USB disk
USE_USB=false
USB_ID="/dev/disk/by-label/usb2000" # /dev/disk/by-label/XXX

# Logging lokal
LOGFILE="${SRCDIR}/backup_blockchain_truenas.log"
STATEFILE="${DESTDIR}/backup_blockchain_truenas.state"

VERIFY=true # enable always verify
VERBOSE=true # enable verbose outputs

TELEMETRY_ENABLED=true
TELEMETRY_BACKEND="syslog"    # none|syslog|http|influx
TELEMETRY_HTTP_URL="https://log.example/api/backup"
TELEMETRY_HTTP_TOKEN=""

