# --- machine.conf ---
# Machine-level configuration für backup_blockchain_truenas.sh
# In *.conf *NIE* RSYNC_OPTS setzen. Überschreibt Array -> crash

# machine.conf
enabled=true

THIS_HOST="hpms1"
ROLE="validator"
FS_TYPE=""          # wird bevorzugt automatisch erkannt

# Speicher-Basis
SRC_BASE="/mnt/ssd/blockchain"
DEST_BASE="/mnt/tank/backups/blockchain"

# ZFS (nur Fähigkeit, keine Aktion)
POOL=""
DATASET=""

# Optional
DEST_MACHINE_BASE=""

# USB
USE_USB=false
USB_ID=""           # /dev/disk/by-label/XXX

# Logging Override (optional)
LOGFILE="/var/log/backup_blockchain_truenas.log}"
STATEFILE="/var/log/backup_blockchain_truenas.state"

VERIFY=true # enable always verify
VERBOSE=true # enable verbose outputs

TELEMETRY_ENABLED=false
TELEMETRY_BACKEND=""    # influx|mysql
MYSQL_HOST="localhost"
MYSQL_PORT="3306"
MYSQL_DB="ops"
MYSQL_USER="telemetry"
MYSQL_PASS="secret"
MYSQL_TABLE="blockchain_backup_runs"

